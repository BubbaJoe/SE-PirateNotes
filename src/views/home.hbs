<!-- HTML Template by w3schools, Edited by Joe Williams -->
<!DOCTYPE html>
<html>
<head>
  <title>Pirate Notes</title>
  <meta charset="UTF-8">
  <link rel="apple-touch-icon" sizes="180x180" href="/apple-touch-icon.png">
  <link rel="icon" type="image/png" sizes="32x32" href="/favicon-32x32.png">
  <link rel="icon" type="image/png" sizes="16x16" href="/favicon-16x16.png">
  <link rel="manifest" href="/manifest.json">
  <link rel="mask-icon" href="/safari-pinned-tab.svg" color="#5bbad5">
  <meta name="theme-color" content="#ffffff">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <link rel="stylesheet" href="https://www.w3schools.com/w3css/4/w3.css">
  <link rel="stylesheet" href="https://www.w3schools.com/lib/w3-theme-deep-purple.css">
  <link rel='stylesheet' href='https://fonts.googleapis.com/css?family=Open+Sans'>
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/4.7.0/css/font-awesome.min.css">
  <style>
    html,body,h1,h2,h3,h4,h5 {font-family: "Open Sans", sans-serif}
    body{background:#555;}
    hr{ border: 1px thin;}
    .course-list {margin-bottom: 1px;margin-top: 1px;}
    .department-list {margin-bottom:1px;margin-top:1px;font-size:12px;}
    .search-wrapper {display: inline-block;}
    .search-input, .search-button {border:0;background-color: transparent;}
    .search-div {max-height: 50px;  width: 100%;margin: 0 auto;}
    .search input {width: 370px;padding: 10px 5px;float: left;color: #ccc;border: 0;background: transparent;border-radius: 3px 0 0 3px;}
    .search input:focus {outline: 0;background:transparent;}
    .search button {position: relative;float: right;border: 0;padding: 0;cursor: pointer;height: 40px;width: 120px;color: #fff;background: transparent;border-left: 1px solid #fff;border-radius: 0 3px 3px 0;}   
    #searchbox {width: 100%;box-sizing: border-box;border: 1px solid #ccc;border-radius: 2px;font-size: 16px;background-color: white;background-image: url('images/searchicon.png');background-position: 10px 14px; background-repeat: no-repeat;padding: 12px 20px 12px 40px;-webkit-transition: width 0.4s ease-in-out;transition: width 0.4s ease-in-out;}
  </style>
</head>
<body class="w3-theme-l5">
{{> navbar }}
<div class="w3-container w3-content" style="max-width:1400px;margin-top:80px">  
  <div class="w3-row">
    <div class="w3-col m3">
      <div class="w3-card-2 w3-round w3-white">
        <div class="w3-container">
         <h4 class="w3-center">{{user.firstname}} {{user.lastname}}</h4>
         <p class="w3-center"><img src="/images/m_profile.svg" class="w3-circle" style="height:106px;width:106px"></p>
         <p class="w3-center">Description: {{user.desc_text}}</p>
         <hr>
         <div>
            <button class="w3-button w3-right w3-theme-l1" style="margin-bottom:10px">edit</button>
         </div>
        </div>
      </div>
      <br>
      <div class="w3-card-2 w3-round">
        <div class="w3-white">
          <button onclick="myFunction('Demo1')" class="w3-button w3-block w3-theme-l1 w3-left-align"><i class="fa fa-book fa-fw w3-margin-right"></i> Followed Courses</button>
          <div id="Demo1" class="w3-hide w3-container">
            {{#each courses}}
              <button onclick="gotoUrl('/course/{{this.id}}')" class="w3-button w3-block w3-theme w3-left-align course-list"><i class="fa fa-book fa-fw w3-margin-right"></i>{{this.dept_abbr}} {{this.course_num}}</button>
            {{else}}
              <p align="center"><i class="fa fa-exclamation-circle"></i> You aren't following any courses!</p>
            {{/each}}
          </div>
          <button onclick="myFunction('Demo2')" class="w3-button w3-block w3-theme-l1 w3-left-align"><i class="fa fa-pencil-square-o fa-fw w3-margin-right"></i> Followed Departments</button>
          <div id="Demo2" class="w3-hide w3-container">
            {{#each departments}}
              <button onclick="gotoUrl('/department/{{this.id}}')" class="w3-button w3-block w3-theme w3-left-align department-list"><i class="fa fa-book fa-fw w3-margin-right"></i>{{this.dept_name}}</button>
            {{else}}
            <p align="center"><i class="fa fa-exclamation-circle"></i> You aren't following any departments!</p>
            {{/each}}
          </div>
          <button onclick="myFunction('Demo3')" class="w3-button w3-block w3-theme-l1 w3-left-align"><i class="fa fa-bookmark fa-fw w3-margin-right"></i> Saved Posts</button>
          <div id="Demo3" class="w3-hide w3-container">
            <div class="w3-row-padding">
            {{#each savedPosts}}
              <button onclick="gotoUrl('/course/{{this.id}}')" class="w3-button w3-block w3-theme w3-left-align course-list"><i class="fa fa-book fa-fw w3-margin-right"></i>{{this.dept_abbr}} {{this.course_num}}</button>
            {{else}}
              <p align="center"><i class="fa fa-exclamation-circle"></i> You don't have any saved posts!</p>
            {{/each}}
            </div>
          </div>
        </div>      
      </div>
      <br>
      {{> interest }}
      <div class="w3-container w3-display-container w3-round w3-theme-l4 w3-border w3-theme-border w3-margin-bottom w3-hide-small">
        <span onclick="this.parentElement.style.display='none'" class="w3-button w3-theme-l3 w3-display-topright">
          <i class="fa fa-remove"></i>
        </span>
        <p><strong>Welcome {{user.firstname}}!!</strong></p>
        <p>Did you read the <a href="/tos">Terms of Service</a> yet??</p>
      </div>
      <div class="w3-card-2 w3-round w3-white w3-padding-16 w3-center">
        <p>ADS</p>
      </div>
    </div>
    <div class="w3-col m7">
      <div class="w3-row-padding">
        <div class="w3-col m12">
          {{> create_post }}
        </div>
      </div>
      {{#each myPosts}}
        {{> post }}
      {{else}}
        <p class="w3-opacity w3-margin w3-center">No posts</p>
      {{/each}}
    </div>
    <div class="w3-col m2">
      {{> event }}
      <br>
      <div class="w3-card-2 w3-round w3-white w3-padding-16 w3-center">
        <p>ADS</p>
      </div>
      <br>
      <div class="w3-card-2 w3-round w3-white w3-padding w3-center">
        <div class="w3-container">
        <p>Report Bug</p>
        <button class="w3-button" onclick="gotoUrl('reportbug')"><i class="fa fa-bug w3-xxlarge"></i></button>
        <br><br>
        </div>
      </div>
    </div>
  </div>
</div>
<br>
{{> footer }}
{{> javascript }}
<script>
  function gotoUrl(url) {
      if(typeof url != "string") return false;
      window.location.href = url;
  }
  function myFunction(id) {
      var x = document.getElementById(id);
      if (x.className.indexOf("w3-show") == -1) {
          x.className += " w3-show";
          x.previousElementSibling.className += " w3-theme-d1";
      } else { 
          x.className = x.className.replace("w3-show", "");
          x.previousElementSibling.className = 
          x.previousElementSibling.className.replace(" w3-theme-d1", "");
      }
  }
  function postAttachment() {
    document.getElementById('fileAttachment').click();
  }
  function updateParagraph() {
    var fileArr = document.getElementById('fileAttachment').files,
    fileNames = "";
    for(i = 0; i < fileArr.length; i++) {
      fileNames += '<u>'+fileArr[i].name+"</u> ";
    }
    document.getElementById('fileList').innerHTML = fileNames;
  }
  function openNav() {
      var x = document.getElementById("navDemo");
      if (x.className.indexOf("w3-show") == -1) {
          x.className += " w3-show";
      } else { 
          x.className = x.className.replace(" w3-show", "");
      }
  }
</script>
</body>
</html>